<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer src="alpinejs@3.15.0.js"></script>
  <title>ESP32 LED Controller</title>
</head>

<body>
  <h1>ESP32 LED Controller</h1>
  <h1>%DEVICE_NAME%</h1>

  <div x-data="{ 
      isOn: false,
      toggleLED() { 
        this.isOn = !this.isOn;
        const state = this.isOn ? 'on' : 'off';
        console.log(`LED is now ${state}`);
        fetch(`/led?state=${state}`);
      }
  }">
    <button @click="toggleLED()">
      <span x-text="isOn ? 'Turn Off' : 'Turn On'"></span>
    </button>
    <p x-text="isOn ? 'LED is ON' : 'LED is OFF'"></p>
  </div>
</body>

</html>